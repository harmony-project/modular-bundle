language: php

php:
  - 7.1
  - 7.2

env:
  - SYMFONY_VERSION=3.4.x CMF_VERSION=2.0.x
  - SYMFONY_VERSION=4.0.x CMF_VERSION=dev-master
  - SYMFONY_VERSION=dev-master CMF_VERSION=dev-master

before_script:
  - |
    composer require \
    "symfony/config:${SYMFONY_VERSION}" \
    "symfony/dependency-injection:${SYMFONY_VERSION}" \
    "symfony/event-dispatcher:${SYMFONY_VERSION}" \
    "symfony/framework-bundle:${SYMFONY_VERSION}" \
    "symfony/http-foundation:${SYMFONY_VERSION}" \
    "symfony/http-kernel:${SYMFONY_VERSION}" \
    "symfony-cmf/routing-bundle:${CMF_VERSION}"

script:
  - : # Do nothing as there are currently no phpunit tests

matrix:
  allow_failures:
    - env: SYMFONY_VERSION=4.0.x CMF_VERSION=dev-master
    - env: SYMFONY_VERSION=dev-master CMF_VERSION=dev-master
